# TODO 
- –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ BPS —Å–¥–µ–ª–∞—Ç—å 
1) –∞—É–¥–∏–æ –¥–∞—Ç–∞—Å–µ—Ç 
2) –¥–∞—Ç–∞—Å–µ—Ç —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏ –≤–∏–¥–∞ (–º–∞—Å—Å–∏–≤ boundaries –≤ —Å–µ–Ω–∫—É–¥–∞—Ö)
- –°–æ–±—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –≤—Å–µ–º –º–µ—Ç–æ–¥–∞–º –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–∞—Ç—å –∏—Ö –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ
- BPS –¥–∞—Ç–∞—Å–µ—Ç - fluidsynth ?? –ø—Ä–æ–≥–Ω–∞—Ç—å –≤–µ—Å—å


- –ø—Ä–µ–∑–∞ : –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ <- –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –∏–ª–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑–Ω—ã—Ö - mid —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π 
- 


# Methods and datasets

–ú–µ—Ç—Ä–∏–∫–∞ `F1-score`

| Method | BPS | SWD |
|----------|----------|----------|
| G-PELT    | 0.2137 (1 beat) / 0.3224 (1 bar)   | 0.3455 (1 beat) / 0.5640 (1 bar)   |
| ruptures   | Cell 5   | Cell 6   |
| msaf  | Cell 8   | Cell 9   |


# Tool for segmentation

```
‚îú‚îÄ‚îÄ app                 # –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ data/           # –¥–∞–Ω–Ω—ã–µ —Å —ç–Ω–¥–æ–ø–∏–Ω—Ç–∞
    ‚îú‚îÄ‚îÄ resources/      # html —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    ‚îú‚îÄ‚îÄ service/        # –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
    ‚îú‚îÄ‚îÄ static/         
        ‚îú‚îÄ‚îÄ Image       # –∫–∞—Ä—Ç–∏–Ω–∫–∏, –æ—Ç–¥–∞–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª—å—é (SSM)
    ‚îú‚îÄ‚îÄ templates/      # html –æ—Ç–≤–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–æ–π 
    ‚îú‚îÄ‚îÄ utils/          # —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ String
    ‚îî‚îÄ‚îÄ app.py          # —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```
# Segmentation model
## Symbolic Music Structure Analysis

[üåπ c—Ç–∞—Ç—å—è](https://arxiv.org/abs/2303.13881)

[üåπ –≥–∏—Ç—Ö–∞–±](https://github.com/carlosholivan/symbolic-music-structure-analysis)

### üìö –∏–¥–µ—è —Å—Ç–∞—Ç—å–∏

MIR - Music Information Retrieval - —Ö–æ—Ç–∏–º —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º—É–∑—ã–∫–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–æ 3 –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –¥–≤–∞ –∏—Ö –Ω–∏—Ö
–æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –≥—Ä–∞—Ñ–∞—Ö. 
–ú—É–∑—ã–∫–∞ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ –≥—Ä–∞—Ñ, –≥—Ä–∞—Ñ –≤ –º–∞—Ç—Ä–∏—Ü—É –∏–Ω—Ü–∏–¥–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –º–∞—Ç—Ä–∏—Ü–∞ –≤ –∫—Ä–∏–≤—É—é –Ω–æ–≤–∏–∑–Ω—ã (novelty curve), –∞ –∫ –∫—Ä–∏–≤–æ–π
–ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è changepoint detection –∞–ª–≥–æ—Ä–∏—Ç–º—ã. –ü–æ –º–Ω–µ–Ω–∏—é –∞–≤—Ç–æ—Ä–æ–≤, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ feature extraction –∏–∑ –º—É–∑—ã–∫–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Ç–æ—á–∫–∞ —Ä–æ—Å—Ç–∞?)

## üíé –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –∫–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 

    ```bash
    git clone https://github.com/carlosholivan/symbolic-music-structure-analysis.git
    ```
- python version >= 3.9
- musicaiz version 0.1.0

  ```bash
  pip install musicaiz==0.1.0
  ```

## üíé —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

- `bps_midi.py`: –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç BPS notes.csv —Ñ–∞–π–ª—ã –≤ MIDI —Ñ–∞–π–ª—ã ‚úÖ
  
- `graph_figure1.py`: —Å–æ–∑–¥–∞–µ—Ç —Ä–∏—Å—É–Ω–æ–∫ —Å BPS-—Ñ–∞–π–ª–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–∫–∞–∑–∞–Ω–∞ –∫—Ä–∏–≤–∞—è –Ω–æ–≤–∏–∑–Ω—ã –∏ –º–∞—Ç—Ä–∏—Ü—ã –∏–Ω—Ü–∏–¥–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏ ‚úÖ

- `figure_ssm.py`: —Å–æ–∑–¥–∞–µ—Ç —Ä–∏—Å—É–Ω–æ–∫ —Å BPS-—Ñ–∞–π–ª–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–∫–∞–∑–∞–Ω—ã –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ –≥—Ä–∞–Ω–∏—Ü—É –∏ SSM —Å –∫—Ä–∏–≤–æ–π –Ω–æ–≤–∏–∑–Ω—ã –¥–ª—è Norm –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (–≤ 12 —Å—Ç—Ä–æ–∫–µ –ø–æ–º–µ–Ω—è—Ç—å –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ BPS_FH_Dataset –Ω–∞ —Å–≤–æ–π) ‚úÖ

- `dataset_analysis.py`: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ SWD –∏ BPS –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ (–≤ 12 —Å—Ç—Ä–æ–∫–µ –ø–æ–º–µ–Ω—è—Ç—å –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ BPS_FH_Dataset –Ω–∞ —Å–≤–æ–π) ‚úÖ

- `audio_segmentation.py`: end2end —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ beattracking –≤ –∞—É–¥–∏–æ –¥–æ–º–µ–Ω–µ (.ogg) 


## üíé –≤–∞–∂–Ω—ã–µ –ø–∞–ø–∫–∏

- BPS_FH_Dataset - –¥–∞—Ç–∞—Å–µ—Ç —Å –º–∏–¥–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- MIDIs - —Ñ–∞–π–ª—ã –∫–æ—Ç–æ—Ä—ã–µ —è –ø—Ä–∏—Ç–∞—â–∏–ª–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

# –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
## –ú–µ—Ç—Ä–∏–∫–∏

–î–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `mir_eval`
```bash
    pip install mir_eval
```

## References
<a id="1">[1]</a> 
Carlos Hernandez-Olivan and Sonia Rubio Llamas and Jose R. Beltran. 2023
Symbolic Music Structure Analysis with Graph Representations and Changepoint Detection Methods

